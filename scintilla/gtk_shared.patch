Index: gtk/makefile
===================================================================
--- gtk/makefile	(revision 522)
+++ gtk/makefile	(working copy)
@@ -17,7 +17,8 @@
 RANLIB = ranlib
 endif
 
-COMPLIB=../bin/scintilla.a
+STATICLIB=scintilla.a
+DYNAMICLIB=libscintilla.so
 
 vpath %.h ../src ../include
 vpath %.cxx ../src
@@ -75,22 +76,30 @@
 LexVB.o LexVerilog.o LexVHDL.o LexYAML.o
 #--Autogenerated -- end of automatically generated section
 
-all: $(COMPLIB)
+all: ../bin/$(STATICLIB)
 
+shared: ../bin/$(DYNAMICLIB)
+
 clean:
 	rm -f *.o $(COMPLIB)
 
 deps:
 	$(CC) -MM $(CONFIGFLAGS) $(CXXFLAGS) *.cxx ../src/*.cxx | sed -e 's/\/usr.* //' | grep [a-zA-Z] >deps.mak
 
-$(COMPLIB): DocumentAccessor.o WindowAccessor.o KeyWords.o StyleContext.o \
+COMPLIB: DocumentAccessor.o WindowAccessor.o KeyWords.o StyleContext.o \
 	CharClassify.o Decoration.o Document.o CallTip.o \
 	ScintillaBase.o ContractionState.o Editor.o ExternalLexer.o PropSet.o PlatGTK.o \
 	KeyMap.o LineMarker.o PositionCache.o ScintillaGTK.o CellBuffer.o ViewStyle.o \
-	RESearch.o RunStyles.o Style.o Indicator.o AutoComplete.o UniConversion.o XPM.o \
+	RESearch.o RunStyles.o Style.o Indicator.o AutoComplete.o UniConversion.o XPM.o 
+
+../bin/$(STATICLIB): $(COMPLIB) \
 	$(MARSHALLER) $(LEXOBJS)
 	$(AR) rc $@ $^
 	$(RANLIB) $@
 
+../bin/$(DYNAMICLIB): $(COMPLIB) \
+	$(MARSHALLER) $(LEXOBJS)
+	$(CC) -shared -o $@ $^
+
 # Automatically generate header dependencies with "make deps"
 include deps.mak
