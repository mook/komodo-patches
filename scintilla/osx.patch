--- macosx/makefile	2007-11-11 17:25:45.000000000 -0800
+++ macosx/makefile	2007-11-11 17:32:52.000000000 -0800
@@ -31,7 +31,7 @@
 ifndef NATIVE
 ARCH_BASE_FLAGS=/Developer/SDKs/MacOSX10.4u.sdk -arch ppc -arch i386
 ARCHFLAGS=-isysroot $(ARCH_BASE_FLAGS)
-LINK_FLAGS=-Wl,-syslibroot,$(ARCH_BASE_FLAGS)
+LINK_FLAGS=-Wl,-syslibroot,$(ARCH_BASE_FLAGS) -L./ -lpcre
 DYN_FLAGS=$(LINK_FLAGS) -framework Carbon -bundle
 endif
 endif
@@ -66,8 +66,9 @@
 LexLua.o LexMatlab.o LexMetapost.o LexMMIXAL.o LexMPT.o LexMSSQL.o LexNsis.o \
 LexOpal.o LexOthers.o LexPascal.o LexPB.o LexPerl.o LexPLM.o LexPOV.o \
 LexProgress.o LexPS.o LexPython.o LexR.o LexRebol.o LexRuby.o LexScriptol.o \
-LexSmalltalk.o LexSpecman.o LexSpice.o LexSQL.o LexTADS3.o LexTCL.o LexTeX.o \
-LexVB.o LexVerilog.o LexVHDL.o LexYAML.o
+LexSmalltalk.o LexSpecman.o LexSpice.o LexSQL.o LexTADS3.o LexTeX.o \
+LexVB.o LexVerilog.o LexVHDL.o LexYAML.o \
+LexUDL.o LexXSLT.o LexTcl.o
 #--Autogenerated -- end of automatically generated section
 
 # The LEXOBJS have to be treated specially as the functions in them are not called from external code
@@ -90,7 +91,7 @@
         TCarbonEvent.o TView.o ScintillaCallTip.o \
 	$(LEXOBJS)
 
-$(STATICLIB): $(COMPLIB) 
+$(STATICLIB): $(COMPLIB) libpcre.a
 	$(LIBTOOL) -static -o $@ $^
 
 $(DYNAMICLIB): $(COMPLIB) 
